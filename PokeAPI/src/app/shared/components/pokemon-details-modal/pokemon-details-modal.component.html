<div class="pokedex-modal-backdrop" (click)="onClose()"></div>
<div class="pokedex-modal">
  <button class="close-btn" (click)="onClose()">X</button>
  <div class="modal-content">
    <div class="modal-img">
      <img [src]="pokemon.sprite" [alt]="pokemon.name" />
    </div>
    <h2>No.{{ pokemon.id }} {{ pokemon.name | formatName | uppercase }}</h2>
    <div *ngIf="pokemon.types" class="poke-types">
      <span 
        class="poke-type" 
        *ngFor="let type of pokemon.types"
        [ngStyle]="{'background': typeColors[type]}">
        {{ type | uppercase }}
      </span>
    </div>
    <div class="poke-details">
      <div><b>Height:</b> {{ pokemon.height / 10 }} m</div>
      <div><b>Weight:</b> {{ pokemon.weight / 10 }} kg</div>
      <div *ngIf="pokemon.base_experience"><b>XP Base:</b> {{ pokemon.base_experience }}</div>
      <div *ngIf="pokemon.abilities">
        <b>Abilities:</b>
        <span *ngFor="let ab of pokemon.abilities; let last = last">
          {{ ab.ability.name | formatName | uppercase }}<span *ngIf="!last">, </span>
        </span>
      </div>
    </div>
    <div class="poke-description">
      <b>Description:</b>
      <p>{{ description }}</p>
    </div>
    <div class="poke-evolution" *ngIf="evolutionLine.length > 1">
      <b>Evolution Line:</b>
      <div class="evo-chain">
        <ng-container *ngFor="let evo of evolutionLine; let last = last">
          <span>{{ evo | formatName | uppercase }}</span>
          <span *ngIf="!last"> &rarr; </span>
        </ng-container>
      </div>
    </div>
  </div>
</div>